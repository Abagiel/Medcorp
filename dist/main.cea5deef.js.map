{"version":3,"sources":["assets/js/main.js"],"names":["menu","getHTML","headerRight","headerNav","linkUp","links","Array","from","reviewsHeight","getBoundingClientRect","height","sliderHeight","pageHeight","Math","max","document","body","scrollHeight","offsetHeight","documentElement","clientHeight","scrollPoint","window","pageYOffset","scrollDirection","sectionsName","addClass","target","str","classList","add","delClass","remove","hasClass","className","includes","sections","coords","map","getCoords","showMenu","toggle","clearHeaderSelection","forEach","el","showByOffsetY","clas","headerSelection","e","selectHeaderLink","idx","watchHeader","top","bottom","length","setScrollDirection","section","tagName","selector","mode","querySelector","querySelectorAll","onclick","onscroll","innerHeight"],"mappings":"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","file":"main.cea5deef.js","sourceRoot":"..","sourcesContent":["const menu = getHTML('.burger-menu');\r\nconst headerRight = getHTML('.header-right');\r\nconst headerNav = getHTML('.header-nav');\r\nconst linkUp = getHTML('.link-up');\r\n\r\nconst links = Array.from(getHTML('.header-nav__link', 1));\r\n\r\nconst reviewsHeight = getHTML('.section-reviews')\r\n\t\t\t.getBoundingClientRect()\r\n\t\t\t.height;\r\nconst sliderHeight = getHTML('.top-slider')\r\n\t\t\t.getBoundingClientRect()\r\n\t\t\t.height;\r\nconst pageHeight = Math.max( \r\n\tdocument.body.scrollHeight, \r\n\tdocument.body.offsetHeight, \r\n  document.documentElement.clientHeight, \r\n  document.documentElement.scrollHeight, \r\n  document.documentElement.offsetHeight\r\n);\r\n\r\nlet scrollPoint = window.pageYOffset;\r\nlet scrollDirection = null;\r\n\r\nconst sectionsName = ['header', '.section-about', '.section-services', '.section-pricing', '.section-team', '.section-blog'];\r\n\r\nconst addClass = (target, str) => target.classList.add(str);\r\nconst delClass = (target, str) => target.classList.remove(str);\r\nconst hasClass = (target, str) => target.className.includes(str);\r\n\r\nconst sections = [\r\n\t...getHTML(sectionsName)\r\n];\r\n\r\nconst coords = [\r\n\t...sections.map(getCoords)\r\n];\r\n\r\n\r\nconst showMenu = () => menu.classList.toggle('active');\r\n\r\nconst clearHeaderSelection = () => links.forEach(el => delClass(el, 'active'));\r\n\r\n\r\nfunction showByOffsetY(height, target, clas) {\r\n\tif (window.pageYOffset > height) {\r\n\t\taddClass(target, clas);\r\n\t} else {\r\n\t\tdelClass(target, clas);\r\n\t}\r\n}\r\n\r\nfunction headerSelection(e) {\r\n\tif (hasClass(e.target, 'header-nav__link')) {\r\n\t\tclearHeaderSelection();\r\n\t\taddClass(e.target, 'active');\r\n\t\tdelClass(menu, 'active');\r\n\t}\r\n}\r\n\r\nfunction selectHeaderLink(idx) {\r\n\tclearHeaderSelection();\r\n\taddClass(links[idx], 'active');\r\n}\r\n\r\nfunction watchHeader() {\r\n\tcoords.forEach(({top, bottom}, idx) => {\r\n\t\tif (scrollPoint > top - 50 && scrollPoint < bottom) {\r\n\t\t\tselectHeaderLink(idx);\r\n\t\t}\r\n\t\tif (idx === coords.length - 1 && scrollPoint > bottom) {\r\n\t\t\tselectHeaderLink(idx + 1);\r\n\t\t}\r\n\t})\r\n}\r\n\r\nfunction setScrollDirection() {\r\n\tif (window.pageYOffset > scrollPoint && \r\n\t\t  scrollDirection !== 'down') {\r\n\t\tscrollDirection = 'down';\r\n\t} \r\n\tif (window.pageYOffset < scrollPoint && \r\n\t\t  scrollDirection !== 'up') {\r\n\t\tscrollDirection = 'up';\r\n\t}\r\n\t\tscrollPoint = window.pageYOffset;\r\n\r\n\t\twatchHeader();\r\n}\r\n\r\nfunction getCoords(section) {\r\n\tlet coords = {};\r\n\tlet { top, height } = section.getBoundingClientRect();\r\n\r\n\ttop = top + window.pageYOffset;\r\n\tcoords.top = top;\r\n\tcoords.bottom = top + height;\r\n\r\n\tif (hasClass(section, 'section-pricing')) {\r\n\t\tcoords.bottom = top + height + reviewsHeight;\r\n\t}\r\n\tif (section.tagName === 'HEADER') {\r\n\t\tcoords.bottom = top + height + sliderHeight;\r\n\t}\r\n\r\n\treturn coords;\r\n}\r\n\r\nfunction getHTML(selector, mode = 0) {\r\n\tif (typeof selector === 'string') {\r\n\t\tif (!mode) return document.querySelector(selector);\r\n\t\t\r\n\t\treturn document.querySelectorAll(selector);\r\n\t}\r\n\r\n\tif (typeof selector === 'object') {\r\n\t\treturn selector.map(el => document.querySelector(el))\r\n\t}\r\n}\r\n\r\nmenu.onclick = () => showMenu();\r\n\r\ndocument.onscroll = () => {\r\n\tshowByOffsetY(window.innerHeight, linkUp, 'active');\r\n\tshowByOffsetY(200, headerNav, 'fixed');\r\n\tsetScrollDirection();\r\n}\r\n\r\nheaderNav.onclick = (e) => headerSelection(e);"]}